---
################################################################################
# black.yml - Black python-formatter workflow.                                 #
#                                                                              #
# Author: Ben Winchester                                                       #
# Copyright: Ben Winchester, 2023                                              #
# Date created: 21/03/2023                                                     #
# License: MIT                                                                 #
################################################################################

name: Black@v1.0.0

on:
  # Triggers the workflow on push or pull request events but only for the "main" branch
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      # Install Python 3.11
      - name: Set up Python 3.11
        uses: actions/setup-python@v2
        with:
          python-version: 3.11
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
          pip install black
      - name: Analysing the code with black formatter
        run: |
          python -m black src --check --diff
